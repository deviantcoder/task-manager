<div class="d-flex align-items-center justify-content-between px-3 py-2 {% if task.is_completed %}opacity-75{% endif %}">
    <div class="d-flex align-items-center gap-3">
        <form method="POST"
            hx-post="{% url 'tasks:task_toggle_complete' task.project.id task.id %}",
            hx-trigger="change"
            hx-target="#task_list"
            hx-swap="innerHTML"
        >
            {% csrf_token %}
            <input class="form-check-input" {% if task.is_completed %}checked{% endif %} type="checkbox">
        </form>
        <div {% if task.is_completed %}class="text-decoration-line-through"{% endif %}>
            <div class="fw-semibold text-white">{{ task.title }}</div>
            {% if task.due_date %}
                <div class="{% if task.is_completed %}text-secondary{% else %}text-muted{% endif %} small">
                    <i class="bi bi-calendar-event me-1"></i>
                    Due: {{ task.due_date }}
                </div>
            {% endif %}
        </div>
    </div>
    <div class="d-flex align-items-center gap-2">
        <span class="badge {{ task.priority }}-priority-bg">{{ task.get_priority_display }}</span>
        <button type="button" class="btn btn-sm border-0 bg-dark-subtle"
            hx-get="{% url 'tasks:task_update' task.project.id task.id %}"
            hx-target="#modal-body"
            hx-swap="innerHTML"
            data-bs-toggle="modal"
            data-bs-target="#modal"
        >
            <i class="bi bi-pencil text-white"></i>
        </button>
        <button type="button" class="btn btn-sm border-0 bg-dark-subtle"
            hx-get="{% url 'tasks:task_delete' task.project.id task.id %}"
            hx-target="#modal-body"
            hx-swap="innerHTML"
            data-bs-toggle="modal"
            data-bs-target="#modal"
        >
            <i class="bi bi-trash text-danger"></i>
        </button>
    </div>
</div>